<!DOCTYPE html>
<html>
  
  <head>
    <title>My jsPsych experiment</title>
    <!-- import jsPsych -->
    <script src="https://unpkg.com/jspsych@7.0.0"></script>

    <!-- import  the jsPsych styling file -->
    <link href="https://unpkg.com/jspsych@7.3.1/css/jspsych.css" rel="stylesheet" type="text/css" />
    
    <!-- import some plugins -->
    <script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response@1.0.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-instructions@1.0.0" type="text/javascript"></script>
    <script src="https://unpkg.com/@jspsych/plugin-image-keyboard-response@1.1.2"></script>
  </head>
  
  <body>

    <!-- jsPsych code goes here -->
    <script type="text/javascript">

      // initialize jsPsych
      var jsPsych = initJsPsych();

      // setup a timeline object 
      var timeline = [];

      // create a an instruction trial using the jsPsychInstructions plugin
      var instructionsTrial = {
        type: jsPsychInstructions,
        pages: [
          'Welcome to the experiment. Click next to begin.',
          'This is the second page of instructions.',
          'On each trial, you will be shown an image and asked to press one of two keys. Please click Continue to begin.'
        ],
        button_label_next: "Continue",
        button_label_previous: "Go Back",
        show_clickable_nav: true
      }
    
    
      // add the instructions trials to the timeline
      timeline.push(instructionsTrial)
      

      // create the stimulus presentation trial structure
      var fixationCross = {
      	type: jsPsychHtmlKeyboardResponse,
	    stimulus: '+',
	    choices: "NO_KEYS",
	    trial_duration: 500
	  }
	  var stimulusTrial = {
	    type: jsPsychImageKeyboardResponse,
	    stimulus: 'img-1.png',
      stimulus_width: 250,
	    choices: "NO_KEYS",
	    trial_duration: 2500
	  }
	  var feedbackTrial = {
		type: jsPsychHtmlKeyboardResponse,
	    stimulus: 'The correct response to this stimulus is: h<br><hr>Please press h to proced.',
	    choices: ["h"],
      }

    var participant_condition = 0

    var trainingProcedure = {
      timeline: [fixationCross, stimulusTrial, feedbackTrial],
      repetitions: 3,
      conditional_function: function () {
        if (participant_condition == 1) {
          return true
        } else {
          return false
        }
      }
    }

	  // and push the trainingProcedure into the main timeline
	  timeline.push(trainingProcedure)

      // run the experiment
      jsPsych.run(timeline);

    </script>
  </body>

</html>